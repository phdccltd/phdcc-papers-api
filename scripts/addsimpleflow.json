{
  "name": "Add simple flow",
  "pub": {
    "name": "TestPubName",
    "alias": "TestPubAlias",
    "title": "Test Pub Title",
    "description": "Test Pub Description",
    "email": "noreply@example.org",
    "tz": "Europe/London",
    "role": [
      { "name": "Owner", "isowner": true },
      { "name": "Author", "defaultrole": true},
      { "name": "Team", "canviewall": true },
      { "name": "Editor", "canviewall": true },
      { "name": "Reviewer", "isreviewer": true },
      { "name": "Lead", "isreviewer": true },
      { "name": "Access requested", "userRequested": true },
      { "name": "Access denied", "userDeniedAccess": true }
    ],
    "publookup": [
      {
        "name": "Topics", // 1
        "value": [
          { "text": "Climate Change", "weight": 10 }, // 1
          { "text": "Biodiversity", "weight": 20 },
          { "text": "Air pollution", "weight": 30 },
          { "text": "Nuclear emissions", "weight": 40 }
        ]
      }
    ],
    "flow": [
      {
        "name": "Paper", // 1
        "description": "Proposal followed by Paper",
        "stage": [
          {
            "name": "Proposal", // 1
            "role": "Author",
            "rolecanadd": 0
          },
          {
            "name": "Paper", // 2
            "role": "Author",
            "rolecanadd": 0
          }
        ],
        "status": [
          {
            "name": "Proposal submitted", // 1
            "visibletoauthor": true,
            "submittedflowstage": "Proposal",
            "owneradvice": "Awaiting send to team"
          },
          { "name": "Proposal with team" }, // 2
          {
            "name": "Proposal rejected", // 3
            "visibletoauthor": true,
            "ended": true
          },
          {
            "name": "Proposal accepted", // 4
            "visibletoauthor": true,
            "cansubmitflowstage": "Paper"
          },
          {
            "name": "Paper submitted", // 5
            "visibletoauthor": true,
            "submittedflowstage": "Paper",
            "owneradvice": "Awaiting: send to reviewers"
          },
          { "name": "Paper with reviewers" }, // 6
          {
            "name": "Paper rejected", // 7
            "visibletoauthor": true,
            "ended": true
          },
          {
            "name": "Paper accepted", // 8
            "visibletoauthor": true,
            "ended": true
          }
        ],
        "grade": [
          {
            "name": "Proposal score", // 1
            "flowstatus": "Proposal with team",
            "displayflowstage": "Proposal",
            "visibletorole": "Team",
            "cancomment": true,
            "canopttoreview": true,
            "score": [
              { "name": "Accept" },
              { "name": "Reject" },
              { "name": "Conflict of Interest" }
            ]
          },
          {
            "name": "Review", // 2
            "flowstatus": "Paper with reviewers",
            "displayflowstage": "Paper",
            "visibletoreviewers": true,
            "cancomment": true,
            "authorcanseeatthesestatuses": "Paper rejected,Paper accepted",
            "helptext": "Please review within 7 days",
            "helplinktext": "Please email us if you need advice",
            "helplink": "mailto:noreply@example.org",
            "score": [
              { "name": "Accept" },
              { "name": "Reject" }
            ]
          }
        ],
        "accepting": [
          {
            "flowstage": "Proposal", // 1
            "open": true
          },
          {
            "flowstage": "Paper", // 2
            "flowstatus": "Proposal accepted",
            "open": true
          }
        ]
      }
    ],
    "formfield": [
      {
        "label": "Your name", // 1
        "flowstage": "Proposal",
        "type": "string",
        "maxwords": 5,
        "maxchars": 50,
        "hideatgradingname": "Proposal score"
      },
      {
        "label": "Topic", // 2
        "help": "Please choose one or more topics",
        "flowstage": "Proposal",
        "type": "lookups",
        "publookup": "Topics"
      },
      {
        "label": "Description", // 3
        "flowstage": "Proposal",
        "type": "text",
        "maxwords": 50
      },
      {
        "label": "Is there a conflict of interest", // 4
        "flowstage": "Proposal",
        "type": "yesno",
        "ref": "HasConflictOfInterest"
      },
      {
        "label": "Conflict of interest", // 5
        "flowstage": "Proposal",
        "type": "string",
        "required": false,
        "requiredif": "@HasConflictOfInterest=1"
      },
      {
        "label": "Approval", // 6
        "help": "I have approval to publish",
        "flowstage": "Paper",
        "type": "yes"
      },
      {
        "label": "Paper", // 7
        "help": "Allowed file types: txt pdf doc docx",
        "flowstage": "Paper",
        "type": "file",
        "allowedfiletypes": ".txt, .pdf, .doc, .docx"
      }
    ]
  }
}
